# Zusätzliche Constraints

Daten auf Modellkonformität prüfen:

```
java -jar ilivalidator.jar gep.xtf
```

Daten sind modellkonform:

```
Info: ilivalidator-1.11.10-61c230a3331fd24f2c1dc841ee9519e191915440
Info: ili2c-5.2.2-c48675a2ecb4cf824bcbdcaa76abfdb10bea327e
Info: iox-ili-1.21.6-4c681c10b36fc582a611709d0ee9bf426177876f
Info: User <stefan>
Info: Start date 2021-08-03 18:22
Info: maxMemory 6291456 KB
Info: dataFile <gep.xtf>
Info: pluginFolder </Users/stefan/apps/ilivalidator-1.11.10/plugins>
Info: modeldir <%ITF_DIR;http://models.interlis.ch/;%JAR_DIR/ilimodels>
Info: lookup model <Units> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: lookup model <Base_LV95> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: lookup model <SIA405_Base_Abwasser_LV95> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: lookup model <VSADSSMINI_2020_LV95> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/Units-20120220.ili>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/Base_d-20181005.ili>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/SIA405_Base_Abwasser-20201103.ili>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/VSADSSMINI_2020_2_d_LV95-20201209.ili>
Info: validate data...
Info: assume unknown external objects
Info: first validation pass...
Info: second validation pass...
Info: validate unique constraint VSADSSMINI_2020_LV95.VSADSSMini.Knoten.Constraint1...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.DatenherrAssoc.DatenherrRef...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.DatenlieferantAssoc.DatenlieferantRef...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_BetreiberAssoc.BetreiberRef...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_EigentuemerAssoc.EigentuemerRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.DatenherrAssoc.DatenherrRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.DatenlieferantAssoc.DatenlieferantRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Massnahme_KnotenAssoc.Massnahme_KnotenAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Ueberlauf_Foerderaggregat_KnotenAssoc.Ueberlauf_Foerderaggregat_KnotenAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_SW_geplantAssoc.Teileinzugsgebiet_Knoten_SW_geplantAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_Regenueberlauf_EinleitstelleAssoc.SK_Regenueberlauf_EinleitstelleAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_EigentuemerAssoc.EigentuemerRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_TextAssoc.Text...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Leitung_Knoten_nachAssoc.Leitung_Knoten_nachAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_Trennbauwerk_PrimaerrichtungAssoc.SK_Trennbauwerk_PrimaerrichtungAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_RW_geplantAssoc.Teileinzugsgebiet_Knoten_RW_geplantAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_PAA_KnotenAssoc.SK_PAA_KnotenAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_Regenueberlaufbecken_EinleitstelleAssoc.SK_Regenueberlaufbecken_EinleitstelleAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_SW_IstAssoc.Teileinzugsgebiet_Knoten_SW_IstAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Ueberlauf_Foerderaggregat_Knoten_nachAssoc.Ueberlauf_Foerderaggregat_Knoten_nachAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_RW_IstAssoc.Teileinzugsgebiet_Knoten_RW_IstAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Bauwerkskomponente_Notenlastung_EinleitstelleAssoc.Bauwerkskomponente_Notenlastung_EinleitstelleAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Leitung_Knoten_vonAssoc.Leitung_Knoten_vonAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_BetreiberAssoc.BetreiberRef...
Info: gep.xtf: VSADSSMINI_2020_LV95.VSADSSMini BID=VSADSSMINI_2020_LV95.VSADSSMini
Info:       1 objects in CLASS VSADSSMINI_2020_LV95.VSADSSMini.Knoten
Info: ...validation done
```

Zusätzlicher Constraint wird eingeführt. Jeder Knoten muss eine Geometrie aufweisen:

```
java -jar ilivalidator.jar --config config.toml gep.xtf
```

ilivalidator meldet einen Fehler. Siehe `Error: line 13: VSADSSMINI_2020_LV95.VSADSSMini.Knoten: tid deg5mQXX20001001: Knoten ohne Geometrie`:

```
Info: ilivalidator-1.11.10-61c230a3331fd24f2c1dc841ee9519e191915440
Info: ili2c-5.2.2-c48675a2ecb4cf824bcbdcaa76abfdb10bea327e
Info: iox-ili-1.21.6-4c681c10b36fc582a611709d0ee9bf426177876f
Info: User <stefan>
Info: Start date 2021-08-03 18:23
Info: maxMemory 6291456 KB
Info: dataFile <gep.xtf>
Info: configFile <config.toml>
Info: pluginFolder </Users/stefan/apps/ilivalidator-1.11.10/plugins>
Info: modeldir <%ITF_DIR;http://models.interlis.ch/;%JAR_DIR/ilimodels>
Info: lookup model <Units> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: lookup model <Base_LV95> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: lookup model <SIA405_Base_Abwasser_LV95> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: lookup model <VSADSSMINI_2020_LV95> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: lookup model <VSADSSMINI_2020_LV95_Validierung_IPW> 2.3 in repository </Users/stefan/sources/afu_ipw_interlis_cookbook/01/>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/Units-20120220.ili>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/Base_d-20181005.ili>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/SIA405_Base_Abwasser-20201103.ili>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/VSADSSMINI_2020_2_d_LV95-20201209.ili>
Info: ilifile </Users/stefan/sources/afu_ipw_interlis_cookbook/01/ipw_constraints.ili>
Info: validate data...
Info: assume unknown external objects
Info: first validation pass...
Info: additional model VSADSSMINI_2020_LV95_Validierung_IPW
Info: second validation pass...
Info: validate mandatory constraint VSADSSMINI_2020_LV95_Validierung_IPW.VSADSSMini_Validierung.v_Knoten.Constraint1...
Error: line 13: VSADSSMINI_2020_LV95.VSADSSMini.Knoten: tid deg5mQXX20001001: Knoten ohne Geometrie
Info: validate unique constraint VSADSSMINI_2020_LV95.VSADSSMini.Knoten.Constraint1...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.DatenherrAssoc.DatenherrRef...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.DatenlieferantAssoc.DatenlieferantRef...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_BetreiberAssoc.BetreiberRef...
Info: validate target of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_EigentuemerAssoc.EigentuemerRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.DatenlieferantAssoc.DatenlieferantRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.DatenherrAssoc.DatenherrRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Ueberlauf_Foerderaggregat_Knoten_nachAssoc.Ueberlauf_Foerderaggregat_Knoten_nachAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Bauwerkskomponente_Notenlastung_EinleitstelleAssoc.Bauwerkskomponente_Notenlastung_EinleitstelleAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Massnahme_KnotenAssoc.Massnahme_KnotenAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_SW_geplantAssoc.Teileinzugsgebiet_Knoten_SW_geplantAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Ueberlauf_Foerderaggregat_KnotenAssoc.Ueberlauf_Foerderaggregat_KnotenAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_RW_IstAssoc.Teileinzugsgebiet_Knoten_RW_IstAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_TextAssoc.Text...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Leitung_Knoten_vonAssoc.Leitung_Knoten_vonAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_Regenueberlaufbecken_EinleitstelleAssoc.SK_Regenueberlaufbecken_EinleitstelleAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Leitung_Knoten_nachAssoc.Leitung_Knoten_nachAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_PAA_KnotenAssoc.SK_PAA_KnotenAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_SW_IstAssoc.Teileinzugsgebiet_Knoten_SW_IstAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_Trennbauwerk_PrimaerrichtungAssoc.SK_Trennbauwerk_PrimaerrichtungAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Teileinzugsgebiet_Knoten_RW_geplantAssoc.Teileinzugsgebiet_Knoten_RW_geplantAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.SK_Regenueberlauf_EinleitstelleAssoc.SK_Regenueberlauf_EinleitstelleAssocRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_EigentuemerAssoc.EigentuemerRef...
Info: validate multiplicity of role VSADSSMINI_2020_LV95.VSADSSMini.Knoten_BetreiberAssoc.BetreiberRef...
Info: gep.xtf: VSADSSMINI_2020_LV95.VSADSSMini BID=VSADSSMINI_2020_LV95.VSADSSMini
Info:       1 objects in CLASS VSADSSMINI_2020_LV95.VSADSSMini.Knoten
Info: ...validation failed
```

